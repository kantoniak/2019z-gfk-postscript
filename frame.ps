%!

(data-ps/colors.ps) run
(data-ps/debug.ps) run
(data-ps/static.ps) run
(data-ps/fish.ps) run
(data-ps/fish-movement.ps) run

/renderFrame {
    % Aquarium
    renderAquarium

    % Fish in the middle
    gsave
    frameWidth 2 div frameHeight 2 div translate
    
        t 2 translateAndScaleFishMovement
        renderFishObject
        grestore
        
        debug 1 eq {
            t 2 renderDebugFishPath
        } if
    
    grestore

    % Big stone
    gsave
    colorStone
    3420 60 translate
    renderStone
    grestore

} def

/debug 1 def

renderFrame
showpage
